# Описание задач

Нужно написать приложение, которое должно соответствовать следующим требованиям:

## Технические требования

1) - [x] Запуск dev режима через `npm run dev`
2) - [x] Автоперезапуск сервера при изменении файлов в dev режиме с помощью [nodemon](https://www.npmjs.com/package/nodemon)
3) - [x] Запуск prod режима через `npm run start` (или `npm start`)
4) - [x] Все зависимости должны быть указаны в package.json пакете должны автоматически устанавливаться при
   запуске `npm install`
5) - [x] В проекте должен быть файл документации, описывающий порядок запуска, а также информацию об основных файлах.
6) - [x] Все конфиги не должны находится в гите.
7) - [x] Пример конфига должен быть в гите.

## Бизнес требования

### Release 1

1) - [x] Приложение должно запускаться и мониторить состояние указанных сайтов.
2) - [x] Список сайтов для мониторинга должен быть легко конфигурируемым, например через конфиг.
3) - [x] Интервал опроса сайтов также должен настраиваться в конфиге.
4) - [x] При отключении сайта - в телеграм (через бота) должно отправляться сообщение о том что сайт не работает
5) - [x] Токен телеграм бота также должен настраиваться в конфиге.

### Release 2

1) - [x] Приложение должно быть сопровождено файлом лицензии на усмотрение разработчиков.
2) - [x] Все важные события должны быть залогированны
3) - [x] Каждое отключение сайта должно сопровождаться добавлением записи в базу данных (любую, на усмотрение разработчиков)
4) - [x] База данных должна периодически очищаться от старых записей. Общее количество записей в базе данных должно быть
   ограничено с целью недопущения бесконечного разрастания базы данных.
5) - [x] Основные логические блоки приложения должны быть вынесены в отдельные модули, которые можно выдернуть и поместить в
   другое приложение с минимальными доработками. Желательно использовать классы.

### Release 3

1) - [ ] В проекте должен быть подключен ESLint со стандартными правилами на усмотрение разработчиков.
2) - [ ] В `package.json` должен быть скрипт (`npm run lint`) для форматирования кода согласно установленным правилам ESLint.
3) - [ ] В проекте должны быть несколько юнит тестов на фреймворке [Jest](https://jestjs.io/ru), которые должны проверять
   функционал проверки доступности сайтов
4) - [ ] Приложение должно откликаться на запрос `/status` в телеграм боте и возвращать свой статус, а также информацию о
   последних проверенных сайтах и их состояниях.

### Release 4

1) - [ ] (Опционально) Перевести всё на Typescript
2) - [ ] Улучшить функцию определения доступности сайта (проверять не только код ответа, но и другие параметры, например
   пинговать сайт). Решение о доступности принимать на основе 51% показателей, т.е. если 3 из 5 показателя говорят что
   сайт доступен - считать его доступным, если всего лишь 2 из 5 говорят что сайт доступен - считать его недоступным.
3) - [ ] Список показателей для каждого сайта должен быть настраиваемым через конфиг.
    1) Идеи методов проверки сайта:
        - пинговать сайт (icmp запросы)
        - проверять результат healthcheck запроса (сравнивать то что ответит сервер с тем что забито в конфиге)
        - проверять на наличие на странице запрещённых слов
        - проверять валидность SSL сертификатов
